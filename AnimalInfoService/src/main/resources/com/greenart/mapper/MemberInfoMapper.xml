<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.greenart.mapper.MemberInfoMapper">
<!-- 전체 데이터 넣어주기 -->
<insert id="InsertMemberInfo">
INSERT INTO member_info
    (name, password, id, email, birth, gen, address, phone)
VALUES
    (#{name}, #{password}, #{id}, #{email}, #{birth}, #{gen}, #{address}, #{phone});
</insert>
<!-- 아이디 중복값 체크 -->
<select id="selectMemberById" resultType="java.lang.Integer">
    select count(*) from member_info where id=#{id}
</select>
<!-- 이메일 중복값 체크 -->
<select id="selectMemberByEmail" resultType="java.lang.Integer">
    select count(*) from member_info where email=#{email}
</select>
<!-- 회원가입 정보 - 회원가입 된 사람인가? -->
<select id="memberLogin" resultType="java.lang.Integer">
    select count(*) from member_info where id= #{id} and password=#{pwd}
</select>
<!-- 회원가입된 사람의 정보 가져오기 -->
<select id="selectMemberInfo" resultType="com.greenart.vo.MemberInfoVO">
    select id, password, email, address, birth, gen, phone, status from member_info where id=#{id}
</select>
</mapper>